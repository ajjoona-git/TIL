# [관통 PJT] 3회차 도전 과제 | 도서 서비스

## 요구사항
1. 핵심 기능

- AI 기반 도서 분석: 다양한 도서 데이터를 기반으로 AI 분석 기능을 제공한다.

- AI 창작 지원: 작가들을 위해 아이디어 발상, 플롯 구성, 문체 교정 등 AI 기반의 글쓰기 보조 기능을 구현한다.

- 커뮤니티: 사용자들이 도서 리뷰, 평점, 감상평을 공유하고 소통할 수 있는 커뮤니티 기능을 제공한다.

- 사용자 편의: 개인별 관심 도서 목록을 관리하는 등 맞춤형 편의 기능을 지원한다.

2. 기술 구현

- 반응형 웹: PC, 태블릿, 모바일 등 다양한 디바이스의 화면 크기에 맞춰 레이아웃이 유연하게 변경되는 반응형 웹 인터페이스를 구현한다.

## 프로젝트 개요
본 프로젝트는 AI 기반의 통합 도서 솔루션 플랫폼을 구축하는 것을 목표로 합니다. 독자에게는 AI를 활용한 깊이 있는 도서 분석 정보와 활발한 사용자 리뷰 커뮤니티를 제공하고, 작가에게는 아이디어 구상부터 문장 교정까지 창작의 전 과정을 돕는 AI 지원 도구를 제공합니다.

이번 3회차 과제에서는 이 서비스의 핵심 화면들을 다양한 디바이스에 최적화된 반응형 웹 레이아웃으로 구성하여, 사용자에게 일관되고 쾌적한 사용 경험을 제공하는 것을 목표로 합니다.

## 작성한 코드

- `02-bestseller.html`
- `03-ai_recommendation.html`
- `04-genre_list.html`
- `05-popular_thread.html`
- `06-main.html`

![02-bestseller](../images/pjt-03_1.png)

![03-ai_recommendation](../images/pjt-03_2.png)

![04-genre_list](../images/pjt-03_3.png)

![05-popular_thread](../images/pjt-03_4.png)

## 배운점

### Bootstrap - Carousel Autoplay

- `active` 클래스를 추가하면 자동 재생된다.
- carousel-item, active와 d-flex를 같은 div의 클래스로 추가하면 모든 슬라이드가 겹쳐서 보인다.
    
    문제의 원인은 `.carousel-item`에 직접 `d-flex` 클래스를 사용했기 때문이다. Carousel은 `.carousel-item`의 `display` 속성을 제어하여 슬라이드를 하나씩 보여주는데, `d-flex`가 이 동작을 방해하여 모든 슬라이드가 한 번에 표시된 것.
    
- 이 문제를 해결하기 위해 각 `.carousel-item` 내부에 새로운 `div`를 추가하고, 그 `div`에 `d-flex` 클래스를 적용해야 한다.

```html
<div id="bestsellerAutoplaying" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    <!-- 슬라이드 1 -->
    <div class="carousel-item active">
      <div class=" d-flex flex-row justify-align-evenly">
        <div class="d-flex flex-column mx-3">
          <img src="./assets/bestsellers/img1.jpeg" class="d-block w-auto" alt="book1">
          <p class="text-center pt-2">소년이 온다</p>
        </div>
        <div class="d-flex flex-column mx-3">
          <img src="./assets/bestsellers/img2.jpeg" class="d-block w-auto" alt="book2">
          <p class="text-center pt-2">채식주의자</p>

        </div>
        <div class="d-flex flex-column mx-3">
          <img src="./assets/bestsellers/img3.jpeg" class="d-block w-auto" alt="book3">
          <p class="text-center pt-2">대온실 수리 보고서</p>
        </div>
        <div class="d-flex flex-column mx-3">
          <img src="./assets/bestsellers/img4.jpeg" class="d-block w-auto" alt="book4">
          <p class="text-center pt-2">급류</p>
        </div>
      </div>
    </div>
    <!-- 슬라이드 2 -->
    <div class="carousel-item">
      <..>
    </div>
    <!-- 슬라이드 3 -->
    <div class="carousel-item">
      <..>
    </div>
  <!-- 우측 (next) 버튼 -->
  <button class="carousel-control-next" type="button" data-bs-target="#bestsellerAutoplaying"
    data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>
</div>
```

### 이미지 비율 설정하기

Bootstrap에서 이미지 비율 설정하기

- `ratio ratio-1x1`
- `object-fit-cover` 이미지 비율을 유지하면서 박스에 맞추기
- `object-fit-contain` 박스 크기에 이미지 맞추기

```html
<div class="genre-grid d-flex flex-wrap">
  <div class="position-relative item-width mb-2">
    <div class="ratio ratio-1x1">
      <img src="./assets/genre/art.jpg" class="rounded w-100 h-100 object-fit-cover" alt="art">
    </div>
    <p class="position-absolute bottom-0 text-white m-2">예술</p>
  </div> 
  <div class="position-relative item-width mb-2">
    <div class="ratio ratio-1x1">
      <img src="./assets/genre/baby.jpg" class="rounded w-100 h-100 object-fit-cover" alt="baby">
    </div>
    <p class="position-absolute bottom-0 text-white m-2">육아</p>
  </div>
  <div class="position-relative item-width mb-2">
    <div class="ratio ratio-1x1">
      <img src="./assets/genre/economy.jpg" class="rounded w-100 h-100 object-fit-cover" alt="economy">
    </div>
    <p class="position-absolute bottom-0 text-white m-2">경제</p>
  </div>
  <div class="position-relative item-width mb-2">
    <div class="ratio ratio-1x1">
      <img src="./assets/genre/health.jpg" class="rounded w-100 h-100 object-fit-cover" alt="health">
    </div>
    <p class="position-absolute bottom-0 text-white m-2">건강</p>
  </div>
    <..>
</div>
```

### 반응형 웹에서 아이템의 폭 설정

412px보다 작을 때는 아이템이 1열로 배치되고, 
412px보다 클 때는 아이템이 4열로 배치될 수 있도록 하는 코드를 작성할 때,

bootstrap의 breakpoints를 사용할 수 없으므로 미디어 쿼리를 사용해야 한다.

해당 경우, `col-sm-3`같이 grid system을 지정할 수 없으므로 `width`를 비율(%)로 지정해야 한다. 

```css
    @media (max-width: 412px) {

      /* 장르 아이템 폭 100%로 지정, 1열로 배치 */
      .item-width {
        box-sizing: border-box;
        padding: 0.2rem;
        width: 100%;
      }
    }

    @media (min-width: 412px) {

      /* 기본적으로 4열 배치 */
      .item-width {
        box-sizing: border-box;
        padding: 0.2rem;
        width: 25%;
      }
    }
```

## 느낀점

### Bootstrap의 편리함

412px을 새로운 breakpoint로 하는 미디어 쿼리를 작성하기가 너무 어려웠다.

만약 bootstrap에서 지정한 breakpoints (  xs: 0,  sm: 576px,  md: 768px,  lg: 992px,  xl: 1200px,  xxl: 1400px )를 사용할 수 있었다면 클래스를 사용하기가 훨씬 수월했을 것 같다.

그래도 어려운 만큼 모르는 것들 하나하나 찾아보고 실행해보면서 적용해보는 과정에서, 클래스를 어떻게 써야 하는지, 속성을 어떻게 주어야 하는지 점점 감을 잡아갈 수 있었다.